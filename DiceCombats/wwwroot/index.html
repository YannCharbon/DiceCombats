<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>DiceCombats</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="DiceCombats.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />

    <!--MudBlazor-->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />

    <!--Masonry layout-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min.js"></script>

    <!--Sortable-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.13.0/Sortable.min.js"></script>

    <link rel="stylesheet" href="css/dc-pdf.css" />
</head>

<body style="background-color:#202020;">

    <style>
        html {
            zoom: 1.0; /* Adjust zoom level */
        }
    </style>

    <script>
        function scrollToBottom() {
            const page = document.querySelector('.page');
            if (page) {
                page.scrollTo({
                    top: page.scrollHeight,
                    behavior: 'smooth'
                });
            }
        }

        function scrollToElementById(id) {
            const page = document.querySelector('.page');
            const element = document.getElementById(id);
            if (page && element) {
                const elementPosition = element.getBoundingClientRect().top + page.scrollTop;
                const offsetPosition = elementPosition - 150;

                page.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }

        window.dcAutoGrowTextareas = (root) => {
            if (!root) return;
            // Trigger Mud's logic by dispatching input, AND set height directly (belt + suspenders)
            const areas = root.querySelectorAll('textarea');
            areas.forEach(a => {
                a.style.overflowY = 'hidden';
                a.style.height = 'auto';
                a.style.height = a.scrollHeight + 'px';
                a.dispatchEvent(new Event('input', { bubbles: true })); // nudge Mud's handler
            });
        };
    </script>

    <div class="status-bar-safe-area"></div>

    <div id="app">
        <div style="padding-top:200px;text-align:center;color:white;font-size:large;">
            <div>
                <img width="200" height="200" src="dicecombats_logo.svg" />
            </div>
            <div style="padding: 20px;">
                <div style="margin: 0 auto;" class="loading-page-circle-loader"></div>
            </div>
        </div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <script src="_framework/blazor.webview.js" autostart="false"></script>

    <!--MudBlazor-->
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>

</body>

</html>